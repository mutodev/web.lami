<div class="flex justify-between">

    <h1 mat-dialog-title>Buscar Artículos</h1>
    <button mat-dialog-close mat-icon-button>
        <mat-icon class="text-gray-400 icon-size-5" [svgIcon]="'heroicons_solid:x'">
        </mat-icon>
    </button>
</div>

<div class="grid grid-row p-2">
    <div class="w-full mb-3">
        <mat-form-field class="fuse-mat-dense fuse-mat-no-subscript w-full fuse-mat-rounded">
            <mat-icon matPrefix [svgIcon]="'heroicons_outline:search'"></mat-icon>
            <input matInput [formControl]="searchInputControl" [autocomplete]="'off'" [placeholder]="'Buscar artículo'">
        </mat-form-field>
    </div>

    <!-- dataSource list -->
    <div class="">
        <ng-container *ngIf="(dataSource$| async) as dataSource">
            <ng-container *ngIf="dataSource.length > 0; else nodataSource">
                <div class="custom-m-height-calc grid overflow-y-auto ">
                    <!-- Header -->
                    <div class="list-grid z-10 sm:grid md:grid sticky sm:overflow-y-auto top-0 gap-4 py-4 md:px-8 shadow text-md font-semibold text-secondary bg-gray-50 dark:bg-black dark:bg-opacity-5"
                        matSort matSortDisableClear>
                        <div class=" hidden ">
                            Artículo
                        </div>
                        <div class=" hidden ">
                            Bodega
                        </div>
                        <div class=" hidden ">
                            Can
                        </div>
                        <div class=" hidden ">
                            Com
                        </div>
                        <div class=" hidden ">
                            Ped
                        </div>
                        <!-- <div class="">
                Precio
              </div> -->
                    </div>
                    <!-- Rows -->
                    <ng-container *ngIf="(dataSource$ | async) as dataSource">
                        <ng-container *ngFor="let item of dataSource; trackBy: trackByFn">
                            <div class=" ">
                                <ng-container *ngFor="let row of item.itemsWareHouses;let i = index;">
                                    <div *ngIf="i == 0" class="list-grid grid items-center gap-4 py-3 md:px-8 border-b cursor-pointer hover:bg-gray-100">
                                        <div>
                                            <div class="font-semibold text-orange">{{item.code}}</div>
                                            <p>{{item.name}}</p>
                                        </div>
                                        <div class=""></div>
                                        <div class=""></div>
                                        <div class=""></div>
                                        <div class=""></div>


                                    </div>
                                    <div *ngIf="i > 0" class="list-grid grid items-center gap-4 py-3 md:px-8 border-b cursor-pointer hover:bg-gray-100">

                                        <div>
                                         <!-- <div class="font-semibold text-orange">{{item.code}}</div>
                                            <p>{{item.name}}</p> -->
                                        </div>

                                        <div class="">
                                            Bodega:      {{row.warehouseCode}}
                                        </div>

                                        <div class="">
                                            Can:     {{row.inStock}}
                                        </div>

                                        <div class="">
                                            Com:   {{row.committed}}
                                        </div>

                                        <div class="">
                                            Ped:    {{row.ordered}}
                                        </div>
                                    </div>
                                </ng-container>

                                <!-- Details button -->
                                <div class="grid hidden align-middle border-b pr-2  items-center ">
                                    <button type="button" class="min-w-10 min-h-7 h-7 px-2 leading-6" mat-stroked-button
                                        (click)="toggleDetails(item.id)">

                                        <mat-icon class="icon-size-5"
                                            [svgIcon]="selectedProduct === item.id  ? 'heroicons_solid:chevron-up' : 'heroicons_solid:chevron-down'
                                            ">
                                        </mat-icon>
                                    </button>
                                </div>
                            </div>


                        </ng-container>
                    </ng-container>
                </div>
            </ng-container>
        </ng-container>

        <ng-template #nodataSource>
            <div class="p-8 sm:p-16 border-t text-2xl font-semibold tracking-tight text-center">No hay Artículos!
            </div>
        </ng-template>

    </div>

</div>

<!-- <div mat-dialog-actions>
    <button mat-button (click)="onNoClick()">No Thanks</button>
    <button mat-button [mat-dialog-close]="data.animal" cdkFocusInitial>Ok</button>
  </div> -->